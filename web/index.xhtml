<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Book List</title>
        <meta charset="utf-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <link rel="stylesheet" href="css/style2.css" />
   <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
   <script src="script.js"></script>
        <style type="text/css">
             body{
                background-image: url('images/books_office.jpg');
                 background-size: 1700px;
                 background-repeat: no-repeat;
             }
         .display-table{   
   border-collapse:collapse;
   border-style: inset;
   border-bottom: 1px solid grey;
   font-family: Tahoma, Vardana, Segoe,sans-serif;
   border:1px solid #000000;
}

.display-table-header{
   text-align:center;
   border-bottom: 1px solid grey;
   background:none repeat scroll 0 0 #66CCFF;
   border-color:1px solid blue;  
   padding:10px;
}

.display-table-odd-row{
   text-align:center;
   border-top: 1px solid grey;
   background:none repeat scroll 0 0 #FFFFFFF;	
}

.display-table-even-row{
   text-align:center;
   border-top: 1px solid grey;
   background:none repeat scroll 0 0 #D0D0D0;
}
a:link, a:visited {
    background-color: #66CCFF;
    color: white;
    padding: 10px 10px;
    text-align: center;	
    text-decoration: none;
    display: inline-block;
}
 .login-button {
        align-content: center;
	border: 1px solid #666; 
	border-radius: 5px; 
	padding: 4px; 
	font-size: 12px;
	font-weight: bold;
	width: 120px; 
	padding: 5px 10px; 
	float: right;
	margin-bottom: 15px;
	background: #cccccc;
 }
a:hover, a:active {
    background-color: #666;
}

/*#table_wrapper{
    border-collapse:collapse;
   border-style: inset;
   border-bottom: 1px solid grey;
   font-family: Tahoma, Vardana, Segoe,sans-serif;
  /* border:1px solid #000000;*/
    /*background:none repeat scroll 0 0 #FFFFFFF;
   
    float:center;}

  #tbody{height:500px;overflow-y:auto;}*/
  label {
	font-size: 16px; 
	width: 50px; 
	display: block; 
	text-align: right;
	margin-right: 10px;
	margin-top: 8px;
	margin-bottom: 8px;
}

input {
	width: 300px;
	border: 1px solid #666; 
	border-radius: 5px; 
	padding: 4px; 
	font-size: 16px;
}
.log {
        background: #0fa1e0;
  border-bottom: 1px dotted #31b7f1;
  font-size: 11px;
  filter: none;
  display: block;
  line-height: 120%;
  padding: 10px;
  width: 80px;
  color: #ffffff;
}
/*-------------------------*/
.table-container {
    height: 25em;
    width: 80%;
    
}
table {
    display: flex;
    flex-flow: column;
    height: 100%;
    width: 100%;
}
table thead {
     text-align:center;
   border-top: 1px solid grey;
  /* background:none repeat scroll 0 0 #66CCFF;*/
  background: #66CCFF;
    /* head takes the height it requires, 
    and it's not scaled when table is resized */
    flex: 0 0 auto;
    width: 100%;
}
table tbody {
    /* body takes all the remaining available space */
    flex: 1 1 auto;
    display: block;
    overflow-y: scroll;
}
table tbody tr {
    width: 100%;
}
table thead{
     display: table;
    table-layout: fixed;
    text-align:center;
   border-top: 1px solid grey;
   background:   #66CCFF;
}
table tbody tr {
    display: table;
    table-layout: fixed;
    text-align:center;
   border-top: 1px solid grey;
   
   background:  white;
}
/* decorations */
.table-container {
    border: 1px solid black;
    padding: 0.3em;
}
table {
    /*border: 1px solid lightgrey;*/
}
table td, table th {
    padding: 0.3em;
   /* border: 1px solid lightgrey;*/
}
/*table th {
    border: 1px solid grey;
}*/
h3{
    color:white;
}
        </style>
            
        
        
    </h:head>
    <h:body>
        <div id='cssmenu'>
<ul>
    <li><h:form><h:commandLink action="insert" value="Add Book" styleClass="a"/></h:form></li>
    <li ><h:form><h:commandLink action="index" value="Manage Books" styleClass="a"/></h:form></li>
   <li style="float: right;" >      <h:form>
              <h:commandButton value="Logout" action="#{loginController.logout()}" styleClass="log" />
         </h:form></li>
   <li style="float:right;" ><h3>    Welcome #{loginController.session_check()} !!</h3></li>
   
     </ul>
</div>
        
        <center>
         <f:view>
           <h:form>   
                    
                   <div class="table-container" >
                    <h:dataTable var="list" value="#{dbQuery.GetBooks()}" 
                                 styleClass="display-table"
                                 headerClass="display-table-header"
                                 rowClasses="display-table-odd-row,display-table-even-row"
                                 >
                        <h:column>
                          <f:facet name="header">ISBN</f:facet>
                            <h:outputText value="#{list.ISBN}" />                          
                        </h:column>
                        <h:column>
                          
                          <f:facet name="header">Title</f:facet>
                            <h:outputText value="#{list.title}" />                          
                        </h:column>
                        <h:column>
                       
                            <f:facet name="header">Edition Number</f:facet>
                            <h:outputText value="#{list.editionNumber}" />                          
                        </h:column>
                        <h:column>
                            <f:facet name="header">Copyright</f:facet>
                            <h:outputText value="#{list.copyright}" />                          
                        </h:column>
                        <h:column>
                           <f:facet name="header">First Name</f:facet>
                            <h:outputText value="#{list.firstName}" />                          
                        </h:column>
                        <h:column>
                           <f:facet name="header">Last Name</f:facet>
                            <h:outputText value="#{list.lastName}" />                          
                        </h:column>
                        <h:column>
                           
                            <f:facet name="header">Action</f:facet>
                            <h:commandLink action="update" actionListener="#{dbUpdateManagedbean.edit()}" value="Update" >
                                <f:param name="ISBN" value="#{list.ISBN}" />
                            </h:commandLink>                       
                        
                            <h:commandLink action="index" actionListener="#{dbUpdateManagedbean.delete()}" value="Delete" onclick="if(!confirm('Are you sure you want to delete this Book?')) return false">
                                <f:param name="ISBN" value="#{list.ISBN}" />
                            </h:commandLink>                       
                        </h:column>
                    </h:dataTable>
                    </div>
                   
                    
                </h:form>
            
            </f:view>
            
        </center>   
    </h:body>
</html>

